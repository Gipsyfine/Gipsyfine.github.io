# [Prompt Engineering](https://learn.microsoft.com/en-us/azure/cognitive-services/openai/concepts/prompt-engineering)

提示工程。

## Basics

基本信息。

文本提示(***text prompts***)是用户与 GPT 模型交互的方式。 与所有生成语言模型一样，GPT 模型会尝试生成最有可能紧跟上一个文本的下一系列字词。 就好像在说 " *What is the first thing that comes to your mind when I say **prompt** ?* "

### Prompt components

提示组件。

使用补全 API 时，所有组件都是可选的，但必须至少有一个组件存在，而大多数提示包含多个组件。 组件之间也可能存在一些灰色区域。

#### Instructions

指令。

指令可能是最常用的**提示组件**。 指令很简单：向模型说明要执行的操作。

### Primary Content

主要内容。

主要内容是指模型正在处理或转换的某种文本。 主要内容通常与指令一起使用。 一个简单的示例是语言翻译。 

### Examples

示例。

成功的提示通常依赖于“单样本”或“少样本”学习。 这是指加入模型所需行为的一个或多个示例，通常做法是加入输入和输出对。 这不是从模型进行永久更改这一意义上学习，而是通过示例更好地使模型能够仅根据当前推理的需求做出响应。 使用没有示例的提示有时称为“零样本”学习。 请注意，使用聊天补全 API 时，在初始系统消息后，少样本学习示例通常以示例用户/助手交互的形式添加到消息数组中。

### Cue

线索。

Cue充当模型输出的“快速启动”，帮助将模型定向到所需的输出。Cue通常与指令(Instructions)一起使用，但并非总是如此。 Cue在一种情况下用于帮助**聚焦**模型的输出，在另一种情况下用于建议特定输出**格式**（项目符号）。

### Supporting content

支持内容。

支持内容是模型可用于以某种方式影响输出的信息。 它与主要内容的不同之处在于，它不是任务的主要目标，但它通常与主要内容一起使用。 常见示例包括上下文信息，例如当前日期、用户名、用户偏好等。

### Summary

由以上基本概念和元素共同组合了 ***Prompt*** ，再一次，文本提示(***text prompts***)是用户与 GPT 模型交互的方式。 

## Best practices

最佳实践。

### Key points

- **尽量具体**。 尽可能少留解读空间。 限制操作空间。
- **具有描述性**。 使用类比。
- **强调**。 有时可能需要对模型进行重复操作。 在主要内容之前和之后提供说明，使用指令和提示等。
- **给事项排序**。 向模型呈现信息的顺序可能会影响输出。 你选择是在内容之前放置指令（“汇总以下内容...”）还是之后（“汇总以上...”）会影响输出。 即使是少样本示例的顺序也很重要。 这被称为“近因偏差(recency bias)”。
- **给模型一个“出路”**。 如果模型无法完成分配的任务，有时为模型提供备用路径可能会有所帮助。 例如，在对一段文本提出问题时，可以加入类似于“如果答案不存在，则回复‘未找到’”之类的内容。 这有助于避免模型生成错误响应。

#### Additional information

"Recency bias"（近因偏差）是指人们在做出决策或形成判断时，过分重视最近接收到的信息或经历的事件，而忽视或低估更早的信息或事件。这种偏见使得人们更容易受到最新的、最鲜明的经验或信息的影响，而忽略了过去的经验或信息。

Recency bias 在许多领域都存在，包括投资决策、选举投票、面试评价、新闻报道和历史回顾等。人们往往更倾向于记住最近发生的事件，并在决策或判断中给予它们更大的权重。

例如，当投资者做出投资决策时，他们可能更容易受到最近的市场表现或热门投资的影响，而忽视长期趋势或更全面的市场分析。同样，招聘面试中的近期偏见可能导致招聘者更多地关注候选人的最近经验或表现，而对他们的整体工作历史进行过度简化。

意识到近期偏见的存在可以帮助我们更客观地评估情况，并采取措施来避免单纯依赖最近的信息或经验。这可能包括更深入地研究历史数据、寻找更全面的信息来源，或者通过团队讨论来平衡不同时间段的观点和经验。

## Space efficiency

空间效率。

虽然输入大小会随着 GPT 模型的迭代而增加，但仍存在提供的数据超出模型所能处理的数据量的情况。 GPT 模型将单词分解为“标记”[tokens]。 常见的多音节单词通常是单个标记，而不太常见的单词会按音节拆分。 标记有时可能违反直觉，如以下示例所示，它演示了不同日期格式的标记边界。 在这种情况下，拼出整个月份比使用完全数字的日期更具空间效益。 当前的标记支持范围：早期 GPT-3 模型支持 2000 个标记，最新的 GPT-4 模型 32k 版本支持最多 32,768 个标记。

![文本字符串的屏幕截图，其中突出显示了标记边界的颜色。](https://learn.microsoft.com/zh-cn/azure/cognitive-services/openai/media/prompt-engineering/space-efficiency.png#lightbox)

由于空间有限，请务必尽可能高效地使用它。

- 表格 - GPT 模型可以非常轻松地理解表格格式的数据。相较于在每个字段前面加上名称（例如 JSON）, 这是一种空间高效的包含数据的方式，。
- 空格 - 连续的空格被视为单独的标记，这很容易浪费空间。 另一方面，单词前面的空格通常被视为与单词相同的标记的一部分。 请仔细观察空格的使用情况，不要在单独使用空格就足够时使用标点符号。